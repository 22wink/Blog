import{_ as I,al as N,u as R,B as _,w as U,r as F,c as n,b as a,l as p,a as l,d as v,e as r,k as P,F as u,v as S,ao as $,o as t,f,j,h as G,i as M,p as T,q as H,s as J}from"./index-7cf17b50.js";import{E as K}from"./el-skeleton-item-7b233842.js";import{g as O,a as Q}from"./photo-a61eef8a.js";import{_ as W}from"./index-d6d7d3f9.js";import{_ as X}from"./skeleton-item-937e2cee.js";import"./index-4c28875d.js";const Y={class:"photoList"},Z={class:"center_box"},ee={class:"photoList-card"},se={class:"image-box"},ae={class:"image-box flex_center animate__animated animate__fadeIn"},te={class:"w-[100%] h-[100%] grid place-items-center"},oe={class:"image-list"},le={__name:"photos",setup(re){const d=N(),k=R(),i=_([]),g=_([]),m=_(!1),c=_(!1),C=async s=>{m.value=!0;let o=await Q(s);o.code==0&&(i.value=o.result,m.value=!1)},A=s=>{k.push({path:"/photos",query:{id:s.id,pageTitle:s.album_name,bg:s.album_cover}})},E=async s=>{let o=await O();o.code==0&&(g.value=o.result,C(Number(s)))},z=()=>{c.value=!0},B=()=>{c.value=!1};return U(()=>d.query.id,s=>{E(s)},{immediate:!0}),(s,o)=>{const V=K,h=T,b=S,w=H,x=J,q=$,L=F("image");return t(),n(u,null,[a(W,{bgUrl:p(d).query.bg},null,8,["bgUrl"]),l("div",Y,[l("div",Z,[l("div",ee,[m.value?(t(),v(b,{key:0,class:"row-space"},{default:r(()=>[(t(),n(u,null,f(6,e=>a(h,{class:"col-space",xs:12,sm:8,key:e},{default:r(()=>[l("div",se,[a(V,{animated:""},{template:r(()=>[a(X,{variant:"image",width:"100%",height:"10rem"})]),_:1})])]),_:2},1024)),64))]),_:1})):i.value.length?(t(),v(b,{key:1,class:"row-space"},{default:r(()=>[(t(!0),n(u,null,f(i.value,(e,y)=>(t(),v(h,{class:"col-space",xs:12,sm:8,key:e.id},{default:r(()=>[j((t(),n("div",ae,[a(x,{class:"image",src:e.url,fit:"cover",lazy:"","preview-teleported":"","initial-index":y,"preview-src-list":i.value.map(D=>D.url)},{error:r(()=>[l("div",te,[a(w,{name:"image404",width:8,height:6})])]),_:2},1032,["src","initial-index","preview-src-list"])])),[[L,e.url]])]),_:2},1024))),128))]),_:1})):P("",!0)])])]),l("div",{class:"affix"},[l("i",{class:"iconfont icon-arrowleft",onClick:z})]),a(q,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),direction:"rtl","before-close":B,"append-to-body":!0,size:p(M)()?"30%":"15%","z-index":9999},{default:r(()=>[l("div",oe,[(t(!0),n(u,null,f(g.value,e=>(t(),n("div",{class:G(["album-box !mb-[5px]",p(d).query.id==e.id?"album-current":""]),key:e.id},[a(x,{class:"album-box__image",src:e.album_cover,fit:"cover",lazy:"",onClick:y=>A(e)},{error:r(()=>[a(w,{name:"image404",width:4,height:4})]),_:2},1032,["src","onClick"])],2))),128))])]),_:1},8,["modelValue","size"])],64)}}},me=I(le,[["__scopeId","data-v-239bbaff"]]);export{me as default};
