import{_ as E,am as j,an as J,al as M,B as q,W as F,w as K,r as R,o as n,c as i,j as L,a as e,l as r,F as y,f as b,t as c,b as h,d as w,m as S,e as u,J as B,z as H,n as O,bc as P,bd as W,be as X,bf as Z,x as G,y as Q}from"./index-7cf17b50.js";import{T as Y,_ as $}from"./index-4c28875d.js";const t=a=>(G("data-v-f19a514a"),a=a(),Q(),a),ee={class:"loading !pt-[80px]"},te={key:0,class:"route-font animate__animated animate__fadeIn"},ae={key:1,class:"article main-article"},se={class:"loading"},ne={class:"animate__animated animate__fadeIn !mt-[20px]"},le={class:"to_pointer"},oe=t(()=>e("i",{class:"iconfont icon-calendar2"},null,-1)),ce=t(()=>e("span",{class:"meta-label"},"发表于",-1)),ie={class:"meta-value"},re={class:"to_pointer"},_e=t(()=>e("i",{class:"iconfont icon-schedule"},null,-1)),de=t(()=>e("span",{class:"meta-label"},"更新于",-1)),ue={class:"meta-value"},me=t(()=>e("span",{class:"meta-separator"},null,-1)),pe={class:"to_pointer"},he=t(()=>e("i",{class:"iconfont icon-folder"},null,-1)),fe={class:"meta-value"},ve=t(()=>e("span",{class:"meta-separator"},null,-1)),ge={class:"to_pointer"},ye=t(()=>e("i",{class:"iconfont icon-label_fill"},null,-1)),be=t(()=>e("span",{class:"meta-separator"},null,-1)),we={class:"to_pointer"},ke=t(()=>e("i",{class:"iconfont icon-icon1"},null,-1)),xe=t(()=>e("span",{class:"meta-label"},"点赞数",-1)),Te={key:1,class:"meta-value"},Ie=t(()=>e("span",{class:"meta-separator"},null,-1)),De={class:"to_pointer"},Fe=t(()=>e("i",{class:"iconfont icon-chakan"},null,-1)),Le=t(()=>e("span",{class:"meta-label"},"浏览次数",-1)),Se={key:1,class:"meta-value"},Be=t(()=>e("span",{class:"meta-separator"},null,-1)),$e={class:"to_pointer"},Ae=t(()=>e("i",{class:"iconfont icon-speechbubble"},null,-1)),Ce=t(()=>e("span",{class:"meta-label"},"阅读时长",-1)),Ne={class:"meta-value"},ze={class:"toggle-theme animate__animated animate__fadeIn"},Ue={class:"flex_c_center"},Ve=t(()=>e("span",null,"预览主题",-1)),Ee={class:"flex_c_center"},je=t(()=>e("span",null,"代码主题",-1)),Je={__name:"index",props:{loading:{type:Boolean,default:!1},article:{type:Object,default:()=>{}},bgUrl:{type:String,default:""},photoAlbumList:{type:Array,default:()=>{}}},setup(a){const f=a,v=j(),{codeTheme:A,previewTheme:C,getPageHeaderList:N}=J(v),_=M(),x=(s,l)=>{v[s]=l},T=q(""),z=s=>{if(s>36e5){const l=(s/36e5).toFixed(0),d=(s%36e5/6e4).toFixed(0);return`${k(l)} 时 ${k(d)} 分`}else{const l=(s/6e4).toFixed(0);return`${k(l)} 分`}},k=s=>s>0&&s<10?`0${s}`:s,U=F(()=>{const s=N.value;let l,d="http://img.mrzym.top/FvmVKfygxBKoJbFVXJwzjgAASL9S";if(_.path=="/article")l=f.article.article_cover||d;else if(f.bgUrl)l=f.bgUrl||d;else{let m=s.findIndex(g=>g.route_name==_.name);l=m==-1?d:s[m].bg_url}return T.value=l,`background-image: url(${l});}`}),I=F(()=>_.query.pageTitle?_.meta.name+" - "+_.query.pageTitle:_.meta.name);return K(()=>_.path,()=>{O(()=>{P(".char")})},{immediate:!0}),(s,l)=>{const d=W,m=X,g=Z,D=R("image");return n(),i("div",{class:"page-header fadeIn",style:H(U.value)},[L(e("div",ee,null,512),[[D,T.value]]),r(_).path!="/article"?(n(),i("div",te,[(n(!0),i(y,null,b(I.value.length,o=>(n(),i("span",{style:{display:"inline-block"},class:"char",key:o},c(I.value.charAt(o-1)),1))),128))])):(n(),i("div",ae,[L(e("div",se,null,512),[[D,f.article.article_cover]]),h(Y,{width:"80%",weight:"500",size:"2.4rem",color:"#fff",align:"center",name:a.article.article_title},null,8,["name"]),e("div",ne,[e("span",le,[oe,ce,e("span",ie,c(a.article.createdAt),1)]),e("span",re,[_e,de,e("span",ue,c(a.article.updatedAt),1)]),me,e("span",pe,[he,e("span",fe,c(a.article.categoryName),1)]),ve,e("span",ge,[ye,(n(!0),i(y,null,b(a.article.tagNameList,(o,p)=>(n(),i("span",{class:"meta-value",key:o},c(p+1==a.article.tagNameList.length?o:o+"、"),1))),128))]),be,e("span",we,[ke,xe,a.article.thumbs_up_times-0<1e3?(n(),w(r($),{key:0,class:"meta-value",value:a.article.thumbs_up_times},null,8,["value"])):(n(),i("span",Te,c(r(S)(a.article.thumbs_up_times)),1))]),Ie,e("span",De,[Fe,Le,a.article.view_times-0<1e3?(n(),w(r($),{key:0,class:"meta-value",value:a.article.view_times},null,8,["value"])):(n(),i("span",Se,c(r(S)(a.article.view_times)),1))]),Be,e("span",$e,[Ae,Ce,e("span",Ne,c(z(a.article.reading_duration)),1)])]),e("div",ze,[h(g,{class:"theme-card-dropdown"},{dropdown:u(()=>[h(m,null,{default:u(()=>[(n(!0),i(y,null,b(r(v).previewThemeList,(o,p)=>(n(),w(d,{key:p,onClick:V=>x("previewTheme",o)},{default:u(()=>[B(c(o),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:u(()=>[e("div",Ue,[Ve,e("span",null,c(r(C)),1)])]),_:1}),h(g,{class:"theme-card-dropdown"},{dropdown:u(()=>[h(m,null,{default:u(()=>[(n(!0),i(y,null,b(r(v).codeThemeList,(o,p)=>(n(),w(d,{key:p,onClick:V=>x("codeTheme",o)},{default:u(()=>[B(c(o),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:u(()=>[e("div",Ee,[je,e("span",null,c(r(A)),1)])]),_:1})])]))],4)}}},Ke=E(Je,[["__scopeId","data-v-f19a514a"]]);export{Ke as _};
