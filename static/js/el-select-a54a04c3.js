import{bP as Xl,bQ as Yl,bR as kl,bS as Zl,bT as Jl,bU as Rl,bV as zl,bW as z,bX as xl,bY as _l,bZ as en,b_ as ln,b$ as nn,bu as Bl,c0 as tn,ag as Be,W as v,c1 as Fe,w as N,l as O,aT as hl,Z as We,Q as Te,R as ce,L as qe,c2 as gl,af as on,n as V,j as Ie,b6 as yl,o as y,c as A,A as de,a as k,t as x,h as C,bm as Z,B as K,I as Cl,aS as Fl,z as te,bx as Ol,a$ as an,a7 as wl,by as rn,c3 as sn,aE as un,bL as Il,bE as dn,c4 as oe,c5 as we,b2 as cn,a4 as pn,c6 as ml,bB as Tl,c7 as Ll,a_ as El,b1 as _,b3 as Wl,c8 as fn,c9 as vn,a6 as ql,aL as mn,as as bn,ca as hn,bg as gn,Y as yn,cb as Cn,cc as On,V as Ml,cd as Sn,bD as wn,ce as In,cf as Tn,S as Nl,cg as Ln,D as Y,r as En,b as ue,e as L,d as F,bn as Dl,F as ze,f as bl,k as W,bC as q,ch as Mn,ci as Dn,X as Pl,$ as Pn,a0 as Hl}from"./index-7cf17b50.js";import{e as $n}from"./strings-111307c0.js";var $l=1/0,An=17976931348623157e292;function Vn(e){if(!e)return e===0?e:0;if(e=Xl(e),e===$l||e===-$l){var l=e<0?-1:1;return l*An}return e===e?e:0}function Kn(e){var l=Vn(e),t=l%1;return l===l?t?l-t:l:0}function kn(e,l,t,r){for(var c=e.length,s=t+(r?1:-1);r?s--:++s<c;)if(l(e[s],s,e))return s;return-1}var Rn=1,zn=2;function Bn(e,l,t,r){var c=t.length,s=c,u=!r;if(e==null)return!s;for(e=Object(e);c--;){var d=t[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<s;){d=t[c];var f=d[0],g=e[f],b=d[1];if(u&&d[2]){if(g===void 0&&!(f in e))return!1}else{var m=new Yl;if(r)var T=r(g,b,f,e,l,m);if(!(T===void 0?kl(b,g,Rn|zn,r,m):T))return!1}}return!0}function Gl(e){return e===e&&!Zl(e)}function Fn(e){for(var l=Jl(e),t=l.length;t--;){var r=l[t],c=e[r];l[t]=[r,c,Gl(c)]}return l}function Ql(e,l){return function(t){return t==null?!1:t[e]===l&&(l!==void 0||e in Object(t))}}function Wn(e){var l=Fn(e);return l.length==1&&l[0][2]?Ql(l[0][0],l[0][1]):function(t){return t===e||Bn(t,e,l)}}var qn=1,Nn=2;function Hn(e,l){return Rl(e)&&Gl(l)?Ql(zl(e),l):function(t){var r=z(t,e);return r===void 0&&r===l?xl(t,e):kl(l,r,qn|Nn)}}function Gn(e){return function(l){return l==null?void 0:l[e]}}function Qn(e){return function(l){return _l(l,e)}}function Un(e){return Rl(e)?Gn(zl(e)):Qn(e)}function jn(e){return typeof e=="function"?e:e==null?en:typeof e=="object"?ln(e)?Hn(e[0],e[1]):Wn(e):Un(e)}var Xn=Math.max,Yn=Math.min;function Zn(e,l,t){var r=e==null?0:e.length;if(!r)return-1;var c=r-1;return t!==void 0&&(c=Kn(t),c=t<0?Xn(r+c,0):Yn(c,r-1)),kn(e,jn(l),c,!0)}const Jn=e=>nn[e||"default"],J=new Map;let Al;Bl&&(document.addEventListener("mousedown",e=>Al=e),document.addEventListener("mouseup",e=>{for(const l of J.values())for(const{documentHandler:t}of l)t(e,Al)}));function Vl(e,l){let t=[];return Array.isArray(l.arg)?t=l.arg:tn(l.arg)&&t.push(l.arg),function(r,c){const s=l.instance.popperRef,u=r.target,d=c==null?void 0:c.target,f=!l||!l.instance,g=!u||!d,b=e.contains(u)||e.contains(d),m=e===u,T=t.length&&t.some(S=>S==null?void 0:S.contains(u))||t.length&&t.includes(d),I=s&&(s.contains(u)||s.contains(d));f||g||b||m||T||I||l.value(r,c)}}const xn={beforeMount(e,l){J.has(e)||J.set(e,[]),J.get(e).push({documentHandler:Vl(e,l),bindingFn:l.value})},updated(e,l){J.has(e)||J.set(e,[]);const t=J.get(e),r=t.findIndex(s=>s.bindingFn===l.oldValue),c={documentHandler:Vl(e,l),bindingFn:l.value};r>=0?t.splice(r,1,c):t.push(c)},unmounted(e){J.delete(e)}},Ul=Symbol("ElSelectGroup"),Ne=Symbol("ElSelect");function _n(e,l){const t=Be(Ne),r=Be(Ul,{disabled:!1}),c=v(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),s=v(()=>t.props.multiple?m(t.props.modelValue,e.value):T(e.value,t.props.modelValue)),u=v(()=>{if(t.props.multiple){const i=t.props.modelValue||[];return!s.value&&i.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),d=v(()=>e.label||(c.value?"":e.value)),f=v(()=>e.value||e.label||""),g=v(()=>e.disabled||l.groupDisabled||u.value),b=hl(),m=(i=[],h)=>{if(c.value){const w=t.props.valueKey;return i&&i.some(E=>Fe(z(E,w))===z(h,w))}else return i&&i.includes(h)},T=(i,h)=>{if(c.value){const{valueKey:w}=t.props;return z(i,w)===z(h,w)}else return i===h},I=()=>{!e.disabled&&!r.disabled&&(t.hoverIndex=t.optionsArray.indexOf(b.proxy))};N(()=>d.value,()=>{!e.created&&!t.props.remote&&t.setSelected()}),N(()=>e.value,(i,h)=>{const{remote:w,valueKey:E}=t.props;if(Object.is(i,h)||(t.onOptionDestroy(h,b.proxy),t.onOptionCreate(b.proxy)),!e.created&&!w){if(E&&typeof i=="object"&&typeof h=="object"&&i[E]===h[E])return;t.setSelected()}}),N(()=>r.disabled,()=>{l.groupDisabled=r.disabled},{immediate:!0});const{queryChange:S}=Fe(t);return N(S,i=>{const{query:h}=O(i),w=new RegExp($n(h),"i");l.visible=w.test(d.value)||e.created,l.visible||t.filteredOptionsCount--},{immediate:!0}),{select:t,currentLabel:d,currentValue:f,itemSelected:s,isDisabled:g,hoverItem:I}}const et=Te({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const l=ce("select"),t=v(()=>[l.be("dropdown","item"),l.is("disabled",O(u)),{selected:O(s),hover:O(b)}]),r=qe({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:c,itemSelected:s,isDisabled:u,select:d,hoverItem:f}=_n(e,r),{visible:g,hover:b}=gl(r),m=hl().proxy;d.onOptionCreate(m),on(()=>{const I=m.value,{selected:S}=d,h=(d.props.multiple?S:[S]).some(w=>w.value===m.value);V(()=>{d.cachedOptions.get(I)===m&&!h&&d.cachedOptions.delete(I)}),d.onOptionDestroy(I,m)});function T(){e.disabled!==!0&&r.groupDisabled!==!0&&d.handleOptionSelect(m)}return{ns:l,containerKls:t,currentLabel:c,itemSelected:s,isDisabled:u,select:d,hoverItem:f,visible:g,hover:b,selectOptionClick:T,states:r}}});function lt(e,l,t,r,c,s){return Ie((y(),A("li",{class:C(e.containerKls),onMouseenter:l[0]||(l[0]=(...u)=>e.hoverItem&&e.hoverItem(...u)),onClick:l[1]||(l[1]=Z((...u)=>e.selectOptionClick&&e.selectOptionClick(...u),["stop"]))},[de(e.$slots,"default",{},()=>[k("span",null,x(e.currentLabel),1)])],34)),[[yl,e.visible]])}var Sl=We(et,[["render",lt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const nt=Te({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Be(Ne),l=ce("select"),t=v(()=>e.props.popperClass),r=v(()=>e.props.multiple),c=v(()=>e.props.fitInputWidth),s=K("");function u(){var d;s.value=`${(d=e.selectWrapper)==null?void 0:d.offsetWidth}px`}return Cl(()=>{u(),Fl(e.selectWrapper,u)}),{ns:l,minWidth:s,popperClass:t,isMultiple:r,isFitInputWidth:c}}});function tt(e,l,t,r,c,s){return y(),A("div",{class:C([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:te({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[de(e.$slots,"default")],6)}var ot=We(nt,[["render",tt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function it(e){const{t:l}=Ol();return qe({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const at=(e,l,t)=>{const{t:r}=Ol(),c=ce("select");an({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},v(()=>e.suffixTransition===!1));const s=K(null),u=K(null),d=K(null),f=K(null),g=K(null),b=K(null),m=K(null),T=K(null),I=K(-1),S=wl({query:""}),i=wl(""),h=K([]);let w=0;const{form:E,formItem:G}=rn(),Le=v(()=>!e.filterable||e.multiple||!l.visible),j=v(()=>e.disabled||(E==null?void 0:E.disabled)),He=v(()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!j.value&&l.inputHovering&&n}),ie=v(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Ge=v(()=>c.is("reverse",ie.value&&l.visible&&e.suffixTransition)),Qe=v(()=>(E==null?void 0:E.statusIcon)&&(G==null?void 0:G.validateState)&&sn[G==null?void 0:G.validateState]),Ee=v(()=>e.remote?300:0),pe=v(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||r("el.select.noMatch"):l.options.size===0?e.noDataText||r("el.select.noData"):null),P=v(()=>{const n=Array.from(l.options.values()),o=[];return h.value.forEach(a=>{const p=n.findIndex(M=>M.currentLabel===a);p>-1&&o.push(n[p])}),o.length>=n.length?o:n}),Ue=v(()=>Array.from(l.cachedOptions.values())),je=v(()=>{const n=P.value.filter(o=>!o.created).some(o=>o.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!n}),ee=un(),Xe=v(()=>["small"].includes(ee.value)?"small":"default"),Ye=v({get(){return l.visible&&pe.value!==!1},set(n){l.visible=n}});N([()=>j.value,()=>ee.value,()=>E==null?void 0:E.size],()=>{V(()=>{H()})}),N(()=>e.placeholder,n=>{l.cachedPlaceHolder=l.currentPlaceholder=n,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(l.currentPlaceholder="")}),N(()=>e.modelValue,(n,o)=>{e.multiple&&(H(),n&&n.length>0||u.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",X(l.query))),fe(),e.filterable&&!e.multiple&&(l.inputLength=20),!Il(n,o)&&e.validateEvent&&(G==null||G.validate("change").catch(a=>dn()))},{flush:"post",deep:!0}),N(()=>l.visible,n=>{var o,a,p,M,$;n?((a=(o=f.value)==null?void 0:o.updatePopper)==null||a.call(o),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,(M=(p=d.value)==null?void 0:p.focus)==null||M.call(p),e.multiple?($=u.value)==null||$.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),X(l.query),!e.multiple&&!e.remote&&(S.value.query="",we(S),we(i)))):(e.filterable&&(oe(e.filterMethod)&&e.filterMethod(""),oe(e.remoteMethod)&&e.remoteMethod("")),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,Ze(),V(()=>{u.value&&u.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),t.emit("visible-change",n)}),N(()=>l.options.entries(),()=>{var n,o,a;if(!Bl)return;(o=(n=f.value)==null?void 0:n.updatePopper)==null||o.call(n),e.multiple&&H();const p=((a=m.value)==null?void 0:a.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!cn(e.modelValue)||!Array.from(p).includes(document.activeElement))&&fe(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&De()},{flush:"post"}),N(()=>l.hoverIndex,n=>{pn(n)&&n>-1?I.value=P.value[n]||{}:I.value={},P.value.forEach(o=>{o.hover=I.value===o})});const H=()=>{V(()=>{var n,o;if(!s.value)return;const a=s.value.$el.querySelector("input");w=w||(a.clientHeight>0?a.clientHeight+2:0);const p=b.value,M=Jn(ee.value||(E==null?void 0:E.size)),$=ee.value||M===w||w<=0?M:w;!(a.offsetParent===null)&&(a.style.height=`${(l.selected.length===0?$:Math.max(p?p.clientHeight+(p.clientHeight>$?6:0):0,$))-2}px`),l.visible&&pe.value!==!1&&((o=(n=f.value)==null?void 0:n.updatePopper)==null||o.call(n))})},X=async n=>{if(!(l.previousQuery===n||l.isOnComposition)){if(l.previousQuery===null&&(oe(e.filterMethod)||oe(e.remoteMethod))){l.previousQuery=n;return}l.previousQuery=n,V(()=>{var o,a;l.visible&&((a=(o=f.value)==null?void 0:o.updatePopper)==null||a.call(o))}),l.hoverIndex=-1,e.multiple&&e.filterable&&V(()=>{if(!j.value){const o=u.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,o):o,Me()}H()}),e.remote&&oe(e.remoteMethod)?(l.hoverIndex=-1,e.remoteMethod(n)):oe(e.filterMethod)?(e.filterMethod(n),we(i)):(l.filteredOptionsCount=l.optionsCount,S.value.query=n,we(S),we(i)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&(await V(),De())}},Me=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=u.value.value?"":l.cachedPlaceHolder)},De=()=>{const n=P.value.filter(p=>p.visible&&!p.disabled&&!p.states.groupDisabled),o=n.find(p=>p.created),a=n[0];l.hoverIndex=Ve(P.value,o||a)},fe=()=>{var n;if(e.multiple)l.selectedLabel="";else{const a=Pe(e.modelValue);(n=a.props)!=null&&n.created?(l.createdLabel=a.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=a.currentLabel,l.selected=a,e.filterable&&(l.query=l.selectedLabel);return}const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(a=>{o.push(Pe(a))}),l.selected=o,V(()=>{H()})},Pe=n=>{let o;const a=ml(n).toLowerCase()==="object",p=ml(n).toLowerCase()==="null",M=ml(n).toLowerCase()==="undefined";for(let U=l.cachedOptions.size-1;U>=0;U--){const B=Ue.value[U];if(a?z(B.value,e.valueKey)===z(n,e.valueKey):B.value===n){o={value:n,currentLabel:B.currentLabel,isDisabled:B.isDisabled};break}}if(o)return o;const $=a?n.label:!p&&!M?n:"",Q={value:n,currentLabel:$};return e.multiple&&(Q.hitState=!1),Q},Ze=()=>{setTimeout(()=>{const n=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(o=>P.value.findIndex(a=>z(a,n)===z(o,n)))):l.hoverIndex=-1:l.hoverIndex=P.value.findIndex(o=>Ce(o)===Ce(l.selected))},300)},Je=()=>{var n,o;xe(),(o=(n=f.value)==null?void 0:n.updatePopper)==null||o.call(n),e.multiple&&H()},xe=()=>{var n;l.inputWidth=(n=s.value)==null?void 0:n.$el.offsetWidth},_e=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,X(l.query))},el=Tl(()=>{_e()},Ee.value),ll=Tl(n=>{X(n.target.value)},Ee.value),le=n=>{Il(e.modelValue,n)||t.emit(ql,n)},ae=n=>Zn(n,o=>!l.disabledOptions.has(o)),nl=n=>{if(n.code!==El.delete){if(n.target.value.length<=0&&!be()){const o=e.modelValue.slice(),a=ae(o);if(a<0)return;o.splice(a,1),t.emit(_,o),le(o)}n.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}},$e=(n,o)=>{const a=l.selected.indexOf(o);if(a>-1&&!j.value){const p=e.modelValue.slice();p.splice(a,1),t.emit(_,p),le(p),t.emit("remove-tag",o.value)}n.stopPropagation(),R()},ve=n=>{n.stopPropagation();const o=e.multiple?[]:"";if(!Wl(o))for(const a of l.selected)a.isDisabled&&o.push(a.value);t.emit(_,o),le(o),l.hoverIndex=-1,l.visible=!1,t.emit("clear"),R()},Ae=n=>{var o;if(e.multiple){const a=(e.modelValue||[]).slice(),p=Ve(a,n.value);p>-1?a.splice(p,1):(e.multipleLimit<=0||a.length<e.multipleLimit)&&a.push(n.value),t.emit(_,a),le(a),n.created&&(l.query="",X(""),l.inputLength=20),e.filterable&&((o=u.value)==null||o.focus())}else t.emit(_,n.value),le(n.value),l.visible=!1;me(),!l.visible&&V(()=>{re(n)})},Ve=(n=[],o)=>{if(!Ll(o))return n.indexOf(o);const a=e.valueKey;let p=-1;return n.some((M,$)=>Fe(z(M,a))===z(o,a)?(p=$,!0):!1),p},me=()=>{const n=u.value||s.value;n&&(n==null||n.focus())},re=n=>{var o,a,p,M,$;const Q=Array.isArray(n)?n[0]:n;let U=null;if(Q!=null&&Q.value){const B=P.value.filter(D=>D.value===Q.value);B.length>0&&(U=B[0].$el)}if(f.value&&U){const B=(M=(p=(a=(o=f.value)==null?void 0:o.popperRef)==null?void 0:a.contentRef)==null?void 0:p.querySelector)==null?void 0:M.call(p,`.${c.be("dropdown","wrap")}`);B&&fn(B,U)}($=T.value)==null||$.handleScroll()},tl=n=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(n.value,n),l.cachedOptions.set(n.value,n),n.disabled&&l.disabledOptions.set(n.value,n)},ol=(n,o)=>{l.options.get(n)===o&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(n))},il=n=>{n.code!==El.backspace&&be(!1),l.inputLength=u.value.value.length*15+20,H()},be=n=>{if(!Array.isArray(l.selected))return;const o=ae(l.selected.map(p=>p.value)),a=l.selected[o];if(a)return n===!0||n===!1?(a.hitState=n,n):(a.hitState=!a.hitState,a.hitState)},al=n=>{const o=n.target.value;if(n.type==="compositionend")l.isOnComposition=!1,V(()=>X(o));else{const a=o[o.length-1]||"";l.isOnComposition=!vn(a)}},rl=()=>{V(()=>re(l.selected))},sl=n=>{l.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),l.focused=!0,t.emit("focus",n))},R=()=>{var n,o;l.visible?(n=u.value||s.value)==null||n.focus():(o=s.value)==null||o.focus()},he=()=>{var n,o,a;l.visible=!1,(n=s.value)==null||n.blur(),(a=(o=d.value)==null?void 0:o.blur)==null||a.call(o)},Ke=n=>{var o,a,p;(o=f.value)!=null&&o.isFocusInsideContent(n)||(a=g.value)!=null&&a.isFocusInsideContent(n)||(p=m.value)!=null&&p.contains(n.relatedTarget)||(l.visible&&ke(),l.focused=!1,t.emit("blur",n))},ge=n=>{ve(n)},ke=()=>{l.visible=!1},ul=n=>{l.visible&&(n.preventDefault(),n.stopPropagation(),l.visible=!1)},ye=n=>{n&&!l.mouseEnter||j.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:(!f.value||!f.value.isFocusInsideContent())&&(l.visible=!l.visible),R())},Re=()=>{l.visible?P.value[l.hoverIndex]&&Ae(P.value[l.hoverIndex]):ye()},Ce=n=>Ll(n.value)?z(n.value,e.valueKey):n.value,Oe=v(()=>P.value.filter(n=>n.visible).every(n=>n.disabled)),dl=v(()=>e.multiple?l.selected.slice(0,e.maxCollapseTags):[]),cl=v(()=>e.multiple?l.selected.slice(e.maxCollapseTags):[]),Se=n=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!Oe.value){n==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):n==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const o=P.value[l.hoverIndex];(o.disabled===!0||o.states.groupDisabled===!0||!o.visible)&&Se(n),V(()=>re(I.value))}},pl=()=>{l.mouseEnter=!0},fl=()=>{l.mouseEnter=!1},se=(n,o)=>{var a,p;$e(n,o),(p=(a=g.value)==null?void 0:a.updatePopper)==null||p.call(a)},vl=v(()=>({maxWidth:`${O(l.inputWidth)-32-(Qe.value?22:0)}px`,width:"100%"}));return{optionList:h,optionsArray:P,selectSize:ee,handleResize:Je,debouncedOnInputChange:el,debouncedQueryChange:ll,deletePrevTag:nl,deleteTag:$e,deleteSelected:ve,handleOptionSelect:Ae,scrollToOption:re,readonly:Le,resetInputHeight:H,showClose:He,iconComponent:ie,iconReverse:Ge,showNewOption:je,collapseTagSize:Xe,setSelected:fe,managePlaceholder:Me,selectDisabled:j,emptyText:pe,toggleLastOptionHitState:be,resetInputState:il,handleComposition:al,onOptionCreate:tl,onOptionDestroy:ol,handleMenuEnter:rl,handleFocus:sl,focus:R,blur:he,handleBlur:Ke,handleClearClick:ge,handleClose:ke,handleKeydownEscape:ul,toggleMenu:ye,selectOption:Re,getValueKey:Ce,navigateOptions:Se,handleDeleteTooltipTag:se,dropMenuVisible:Ye,queryChange:S,groupQueryChange:i,showTagList:dl,collapseTagList:cl,selectTagsStyle:vl,reference:s,input:u,iOSInput:d,tooltipRef:f,tagTooltipRef:g,tags:b,selectWrapper:m,scrollbar:T,handleMouseEnter:pl,handleMouseLeave:fl}};var rt=Te({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:t}){let r=[];function c(s,u){if(s.length!==u.length)return!1;for(const[d]of s.entries())if(s[d]!=u[d])return!1;return!0}return()=>{var s,u;const d=(s=l.default)==null?void 0:s.call(l),f=[];function g(b){Array.isArray(b)&&b.forEach(m=>{var T,I,S,i;const h=(T=(m==null?void 0:m.type)||{})==null?void 0:T.name;h==="ElOptionGroup"?g(!Wl(m.children)&&!Array.isArray(m.children)&&oe((I=m.children)==null?void 0:I.default)?(S=m.children)==null?void 0:S.default():m.children):h==="ElOption"?f.push((i=m.props)==null?void 0:i.label):Array.isArray(m.children)&&g(m.children)})}return d.length&&g((u=d[0])==null?void 0:u.children),c(f,r)||(r=f,t("update-options",f)),d}}});const Kl="ElSelect",st=Te({name:Kl,componentName:Kl,components:{ElInput:mn,ElSelectMenu:ot,ElOption:Sl,ElOptions:rt,ElTag:bn,ElScrollbar:hn,ElTooltip:gn,ElIcon:yn},directives:{ClickOutside:xn},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Cn},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:On.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ml,default:Sn},fitInputWidth:Boolean,suffixIcon:{type:Ml,default:wn},tagType:{...In.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Tn,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[_,ql,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const t=ce("select"),r=ce("input"),{t:c}=Ol(),s=it(e),{optionList:u,optionsArray:d,selectSize:f,readonly:g,handleResize:b,collapseTagSize:m,debouncedOnInputChange:T,debouncedQueryChange:I,deletePrevTag:S,deleteTag:i,deleteSelected:h,handleOptionSelect:w,scrollToOption:E,setSelected:G,resetInputHeight:Le,managePlaceholder:j,showClose:He,selectDisabled:ie,iconComponent:Ge,iconReverse:Qe,showNewOption:Ee,emptyText:pe,toggleLastOptionHitState:P,resetInputState:Ue,handleComposition:je,onOptionCreate:ee,onOptionDestroy:Xe,handleMenuEnter:Ye,handleFocus:H,focus:X,blur:Me,handleBlur:De,handleClearClick:fe,handleClose:Pe,handleKeydownEscape:Ze,toggleMenu:Je,selectOption:xe,getValueKey:_e,navigateOptions:el,handleDeleteTooltipTag:ll,dropMenuVisible:le,reference:ae,input:nl,iOSInput:$e,tooltipRef:ve,tagTooltipRef:Ae,tags:Ve,selectWrapper:me,scrollbar:re,queryChange:tl,groupQueryChange:ol,handleMouseEnter:il,handleMouseLeave:be,showTagList:al,collapseTagList:rl,selectTagsStyle:sl}=at(e,s,l),{inputWidth:R,selected:he,inputLength:Ke,filteredOptionsCount:ge,visible:ke,selectedLabel:ul,hoverIndex:ye,query:Re,inputHovering:Ce,currentPlaceholder:Oe,menuVisibleOnFocus:dl,isOnComposition:cl,options:Se,cachedOptions:pl,optionsCount:fl,prefixWidth:se}=gl(s),vl=v(()=>{const D=[t.b()],ne=O(f);return ne&&D.push(t.m(ne)),e.disabled&&D.push(t.m("disabled")),D}),n=v(()=>[t.e("tags"),t.is("disabled",O(ie))]),o=v(()=>[t.b("tags-wrapper"),{"has-prefix":O(se)&&O(he).length}]),a=v(()=>[t.e("input"),t.is(O(f)),t.is("disabled",O(ie))]),p=v(()=>[t.e("input"),t.is(O(f)),t.em("input","iOS")]),M=v(()=>[t.is("empty",!e.allowCreate&&!!O(Re)&&O(ge)===0)]),$=v(()=>({maxWidth:`${O(R)>123?O(R)-123:O(R)-75}px`})),Q=v(()=>({marginLeft:`${O(se)}px`,flexGrow:1,width:`${O(Ke)/(O(R)-32)}%`,maxWidth:`${O(R)-42}px`}));Nl(Ne,qe({props:e,options:Se,optionsArray:d,cachedOptions:pl,optionsCount:fl,filteredOptionsCount:ge,hoverIndex:ye,handleOptionSelect:w,onOptionCreate:ee,onOptionDestroy:Xe,selectWrapper:me,selected:he,setSelected:G,queryChange:tl,groupQueryChange:ol})),Cl(()=>{s.cachedPlaceHolder=Oe.value=e.placeholder||(()=>c("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Oe.value=""),Fl(me,b),e.remote&&e.multiple&&Le(),V(()=>{const D=ae.value&&ae.value.$el;if(D&&(R.value=D.getBoundingClientRect().width,l.slots.prefix)){const ne=D.querySelector(`.${r.e("prefix")}`);se.value=Math.max(ne.getBoundingClientRect().width+11,30)}}),G()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(_,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(_,"");const U=v(()=>{var D,ne;return(ne=(D=ve.value)==null?void 0:D.popperRef)==null?void 0:ne.contentRef});return{isIOS:Ln,onOptionsRendered:D=>{u.value=D},prefixWidth:se,selectSize:f,readonly:g,handleResize:b,collapseTagSize:m,debouncedOnInputChange:T,debouncedQueryChange:I,deletePrevTag:S,deleteTag:i,handleDeleteTooltipTag:ll,deleteSelected:h,handleOptionSelect:w,scrollToOption:E,inputWidth:R,selected:he,inputLength:Ke,filteredOptionsCount:ge,visible:ke,selectedLabel:ul,hoverIndex:ye,query:Re,inputHovering:Ce,currentPlaceholder:Oe,menuVisibleOnFocus:dl,isOnComposition:cl,options:Se,resetInputHeight:Le,managePlaceholder:j,showClose:He,selectDisabled:ie,iconComponent:Ge,iconReverse:Qe,showNewOption:Ee,emptyText:pe,toggleLastOptionHitState:P,resetInputState:Ue,handleComposition:je,handleMenuEnter:Ye,handleFocus:H,focus:X,blur:Me,handleBlur:De,handleClearClick:fe,handleClose:Pe,handleKeydownEscape:Ze,toggleMenu:Je,selectOption:xe,getValueKey:_e,navigateOptions:el,dropMenuVisible:le,reference:ae,input:nl,iOSInput:$e,tooltipRef:ve,popperPaneRef:U,tags:Ve,selectWrapper:me,scrollbar:re,wrapperKls:vl,tagsKls:n,tagWrapperKls:o,inputKls:a,iOSInputKls:p,scrollbarKls:M,selectTagsStyle:sl,nsSelect:t,tagTextStyle:$,inputStyle:Q,handleMouseEnter:il,handleMouseLeave:be,showTagList:al,collapseTagList:rl,tagTooltipRef:Ae}}}),ut=["disabled","autocomplete","aria-label"],dt=["disabled"],ct={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function pt(e,l,t,r,c,s){const u=Y("el-tag"),d=Y("el-tooltip"),f=Y("el-icon"),g=Y("el-input"),b=Y("el-option"),m=Y("el-options"),T=Y("el-scrollbar"),I=Y("el-select-menu"),S=En("click-outside");return Ie((y(),A("div",{ref:"selectWrapper",class:C(e.wrapperKls),onMouseenter:l[22]||(l[22]=(...i)=>e.handleMouseEnter&&e.handleMouseEnter(...i)),onMouseleave:l[23]||(l[23]=(...i)=>e.handleMouseLeave&&e.handleMouseLeave(...i)),onClick:l[24]||(l[24]=Z((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},[ue(d,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:L(()=>[k("div",{class:"select-trigger",onMouseenter:l[20]||(l[20]=i=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=i=>e.inputHovering=!1)},[e.multiple?(y(),A("div",{key:0,ref:"tags",tabindex:"-1",class:C(e.tagsKls),style:te(e.selectTagsStyle),onClick:l[15]||(l[15]=(...i)=>e.focus&&e.focus(...i))},[e.collapseTags&&e.selected.length?(y(),F(Dl,{key:0,onAfterLeave:e.resetInputHeight},{default:L(()=>[k("span",{class:C(e.tagWrapperKls)},[(y(!0),A(ze,null,bl(e.showTagList,i=>(y(),F(u,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:h=>e.deleteTag(h,i)},{default:L(()=>[k("span",{class:C(e.nsSelect.e("tags-text")),style:te(e.tagTextStyle)},x(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(y(),F(u,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:L(()=>[e.collapseTagsTooltip?(y(),F(d,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:L(()=>[k("span",{class:C(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3)]),content:L(()=>[k("div",{class:C(e.nsSelect.e("collapse-tags"))},[(y(!0),A(ze,null,bl(e.collapseTagList,i=>(y(),A("div",{key:e.getValueKey(i),class:C(e.nsSelect.e("collapse-tag"))},[ue(u,{class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:h=>e.handleDeleteTooltipTag(h,i)},{default:L(()=>[k("span",{class:C(e.nsSelect.e("tags-text")),style:te({maxWidth:e.inputWidth-75+"px"})},x(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(y(),A("span",{key:1,class:C(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):W("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):W("v-if",!0),e.collapseTags?W("v-if",!0):(y(),F(Dl,{key:1,onAfterLeave:e.resetInputHeight},{default:L(()=>[k("span",{class:C(e.tagWrapperKls),style:te(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(y(!0),A(ze,null,bl(e.selected,i=>(y(),F(u,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:h=>e.deleteTag(h,i)},{default:L(()=>[k("span",{class:C(e.nsSelect.e("tags-text")),style:te({maxWidth:e.inputWidth-75+"px"})},x(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Ie((y(),A("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=i=>e.query=i),type:"text",class:C(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:te(e.inputStyle),"aria-label":e.ariaLabel,onFocus:l[1]||(l[1]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onBlur:l[2]||(l[2]=(...i)=>e.handleBlur&&e.handleBlur(...i)),onKeyup:l[3]||(l[3]=(...i)=>e.managePlaceholder&&e.managePlaceholder(...i)),onKeydown:[l[4]||(l[4]=(...i)=>e.resetInputState&&e.resetInputState(...i)),l[5]||(l[5]=q(Z(i=>e.navigateOptions("next"),["prevent"]),["down"])),l[6]||(l[6]=q(Z(i=>e.navigateOptions("prev"),["prevent"]),["up"])),l[7]||(l[7]=q((...i)=>e.handleKeydownEscape&&e.handleKeydownEscape(...i),["esc"])),l[8]||(l[8]=q(Z((...i)=>e.selectOption&&e.selectOption(...i),["stop","prevent"]),["enter"])),l[9]||(l[9]=q((...i)=>e.deletePrevTag&&e.deletePrevTag(...i),["delete"])),l[10]||(l[10]=q(i=>e.visible=!1,["tab"]))],onCompositionstart:l[11]||(l[11]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:l[12]||(l[12]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:l[13]||(l[13]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onInput:l[14]||(l[14]=(...i)=>e.debouncedQueryChange&&e.debouncedQueryChange(...i))},null,46,ut)),[[Mn,e.query]]):W("v-if",!0)],6)):W("v-if",!0),W(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(y(),A("input",{key:1,ref:"iOSInput",class:C(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,dt)):W("v-if",!0),ue(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=i=>e.selectedLabel=i),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:C([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,label:e.ariaLabel,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=q(Z(i=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[18]||(l[18]=q(Z(i=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),q(Z(e.selectOption,["stop","prevent"]),["enter"]),q(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=q(i=>e.visible=!1,["tab"]))]},Dn({suffix:L(()=>[e.iconComponent&&!e.showClose?(y(),F(f,{key:0,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:L(()=>[(y(),F(Pl(e.iconComponent)))]),_:1},8,["class"])):W("v-if",!0),e.showClose&&e.clearIcon?(y(),F(f,{key:1,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:L(()=>[(y(),F(Pl(e.clearIcon)))]),_:1},8,["class","onClick"])):W("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:L(()=>[k("div",ct,[de(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:L(()=>[ue(I,null,{default:L(()=>[Ie(ue(T,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:C(e.scrollbarKls)},{default:L(()=>[e.showNewOption?(y(),F(b,{key:0,value:e.query,created:!0},null,8,["value"])):W("v-if",!0),ue(m,{onUpdateOptions:e.onOptionsRendered},{default:L(()=>[de(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[yl,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(y(),A(ze,{key:0},[e.$slots.empty?de(e.$slots,"empty",{key:0}):(y(),A("p",{key:1,class:C(e.nsSelect.be("dropdown","empty"))},x(e.emptyText),3))],64)):W("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[S,e.handleClose,e.popperPaneRef]])}var ft=We(st,[["render",pt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const vt=Te({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const l=ce("select"),t=K(!0),r=hl(),c=K([]);Nl(Ul,qe({...gl(e)}));const s=Be(Ne);Cl(()=>{c.value=u(r.subTree)});const u=f=>{const g=[];return Array.isArray(f.children)&&f.children.forEach(b=>{var m;b.type&&b.type.name==="ElOption"&&b.component&&b.component.proxy?g.push(b.component.proxy):(m=b.children)!=null&&m.length&&g.push(...u(b))}),g},{groupQueryChange:d}=Fe(s);return N(d,()=>{t.value=c.value.some(f=>f.visible===!0)},{flush:"post"}),{visible:t,ns:l}}});function mt(e,l,t,r,c,s){return Ie((y(),A("ul",{class:C(e.ns.be("group","wrap"))},[k("li",{class:C(e.ns.be("group","title"))},x(e.label),3),k("li",null,[k("ul",{class:C(e.ns.b("group"))},[de(e.$slots,"default")],2)])],2)),[[yl,e.visible]])}var jl=We(vt,[["render",mt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const gt=Pn(ft,{Option:Sl,OptionGroup:jl}),yt=Hl(Sl);Hl(jl);export{xn as C,gt as E,yt as a};
